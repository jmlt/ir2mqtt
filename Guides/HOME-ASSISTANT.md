![Logo](https://sys1823.pt/ir2mqtt/files/logo.png)

# Introducing the iR2mqtt Home Assistant Integration

No more manual configuration, all sensors are now created automatically.

---

## How to Use

1. Download and run the [latest release](https://github.com/jmlt/ir2mqtt/releases/latest)
2. Configure your MQTT broker settings.
   - Go to Settings - Add-ons in Home Assistant.
   - Click Add-on Store, search for Mosquitto broker, install and start it.
   - Set up credentials under Settings - Logins, and use them in iR2mqtt.
     [![MQTT configuration panel.](https://my.home-assistant.io/badges/config_mqtt.svg)](https://my.home-assistant.io/redirect/config_mqtt/)
   - Set up MQTT Integration [![MQTT integration.](https://my.home-assistant.io/badges/config_flow_start.svg)](https://my.home-assistant.io/redirect/config_flow_start/?domain=mqtt)     

###### MQTT and ir2mqtt Settings example:

```
logins:
  - username: user
    password: pass
require_certificate: false
certfile: fullchain.pem
keyfile: privkey.pem
customize:
  active: false
  folder: mosquitto

```
<img width="803" height="643" alt="ir1" src="https://github.com/user-attachments/assets/ab2f3ab2-ac15-40fe-a577-a1fd570bf191" />


4. Run iRacing and iR2mqtt executable to start sending iRacing telemetry to MQTT.
  Should look like this:
<img width="802" height="642" alt="ir2" src="https://github.com/user-attachments/assets/7644372d-eeda-431d-8088-ed9133615415" />

6. Now, we need to create the sensors:
   - Go to **HACS - Integrations**.
   - Click the three-dot menu (top right) â†’ **Custom repositories**.
   - **Repository URL:** Paste the URL of this GitHub repository <pre>https://github.com/jmlt/ir2mqtt_integration/</pre>
   - **Category:** Select `Integration`.
   - Click **Add**.
<details>
<summary>Without HACS</summary>
1. Download the latest release of the iR2mqtt integration from [GitHub Releases](https://github.com/jmlt/ir2mqtt_integration/releases).
2. Extract the downloaded files and place the ir2mqtt folder in your Home Assistant custom_components directory (usually located in the config/custom_components directory).
3. Restart your Home Assistant instance to load the new integration.
</details>

7. Restart Home Assistant. 
8. Go to **Settings - Devices & Services**.  
9. Click **Add Integration** and search for **iR2mqtt**. 
   [![Add Integration](https://my.home-assistant.io/badges/config_flow_start.svg)](https://my.home-assistant.io/redirect/config_flow_start/?domain=ir2mqtt)
10. Enter the **MQTT Topic Prefix** (if you changed the default):
   * Default value: `iracing`.
11. Click **Submit**.
<img width="1046" height="328" alt="ir3" src="https://github.com/user-attachments/assets/338a4631-12f5-4489-abcc-8b9110c7fde3" />

12. Sensors are ready! Try this [automation example](https://github.com/jmlt/ir2mqtt/blob/main/Guides/yaml/automation-example.yaml) that changes light entity according to flags (with priorities)

<img width="1579" height="614" alt="ir4" src="https://github.com/user-attachments/assets/6353c1a5-9010-4fca-9041-3907493d54d7" />

---

## Donations

The donation keys unlock additional features and are generated by making a donation through PayPal at the following link:

[https://www.paypal.com/donate/?hosted_button_id=CYPAHB9LRC4TN](https://www.paypal.com/donate/?hosted_button_id=CYPAHB9LRC4TN)

or 

![QR](https://sys1823.pt/ir2mqtt/files/QR.png)

- During the PayPal donation process, **only your email address is stored** to associate the donation key with your total donated amount.
- No other personal data or payment details are stored or handled by iR2mqtt.
- Donation keys are optional and support the ongoing development of this project. (Key will be automatically generated and sent via email passed by Paypal, please check SPAM folder.)

---

## ðŸ§  Manual sensor Setup (Legacy)

If you still prefer manual configuration, you can create MQTT sensors using the example below:

[sensors-example.yaml](https://github.com/jmlt/ir2mqtt/blob/main/Guides/yaml/sensors-example.yaml)

But it is **no longer required**.

---

## ðŸ’¬ Support

- App: [https://github.com/jmlt/ir2mqtt](https://github.com/jmlt/ir2mqtt/issues)  
- Integration: [https://github.com/jmlt/ir2mqtt_integration](https://github.com/jmlt/ir2mqtt_integration/issues)

Join the project, report issues, and help improve iR2MQTT.

## Useful Links
- [Automation Example YAML](https://github.com/jmlt/ir2mqtt/blob/main/Guides/yaml/automation-example.yaml)
- [Home Assistant Community Post](https://community.home-assistant.io/t/ir2mqtt-bring-iracing-live-telemetry-to-home-assistant/901589)
- [iR2mqtt App GitHub Repository](https://github.com/jmlt/ir2mqtt)
- [iR2mqtt Integration GitHub Repository](https://github.com/jmlt/ir2mqtt_integration)
- [HACS Documentation](https://hacs.xyz/docs/use)  
- [Home Assistant MQTT Integration](https://www.home-assistant.io/integrations/mqtt/) 
